(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74263b36"],{1511:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("h1",[t._v("Users Page")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"modal",attrs:{id:"modal-add-user","aria-modal":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{directives:[{name:"show",rawName:"v-show",value:!t.editmode,expression:"!editmode"}],staticClass:"modal-title"},[t._v(" Add New ")]),a("h4",{directives:[{name:"show",rawName:"v-show",value:t.editmode,expression:"editmode"}],staticClass:"modal-title"},[t._v(" Update ")]),t._m(0)]),a("form",{on:{submit:function(e){e.preventDefault(),t.editmode?t.updateUser():t.createUser()}}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("username")},attrs:{type:"text",name:"name",placeholder:"Name"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),a("has-error",{attrs:{form:t.form,field:"username"}})],1),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("email")},attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),a("has-error",{attrs:{form:t.form,field:"email"}})],1),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fullname,expression:"form.fullname"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("fullname")},attrs:{type:"text",name:"name",placeholder:"Fullname"},domProps:{value:t.form.fullname},on:{input:function(e){e.target.composing||t.$set(t.form,"fullname",e.target.value)}}}),a("has-error",{attrs:{form:t.form,field:"fullname"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.editmode,expression:"!editmode"}],staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("password")},attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),a("has-error",{attrs:{form:t.form,field:"password"}})],1)]),a("div",{staticClass:"modal-footer justify-content-between"},[a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Close ")]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.editmode,expression:"editmode"}],staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(" Update ")]),a("button",{directives:[{name:"show",rawName:"v-show",value:!t.editmode,expression:"!editmode"}],staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(" Create ")])])])])])]),a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v("Responsive Hover Table")]),a("div",{staticClass:"card-tools"},[a("div",{staticClass:"input-group input-group-sm"},[a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.newModal}},[t._v(" Add User "),a("i",{staticClass:"fas fa-user-plus"})])])])])]),a("div",{staticClass:"card-body table-responsive p-0"},[a("table",{staticClass:"table table-hover text-nowrap"},[t._m(1),a("tbody",t._l(t.users,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.username))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.fullname))]),t._m(2,!0),a("td",{staticClass:"text-center"},[t.currentuser.id!==e.id?a("div",[a("a",{staticClass:"btn btn-info btn-sm mr-2",attrs:{href:"#"},on:{click:function(a){return t.editModal(e)}}},[a("i",{staticClass:"fas fa-pencil-alt"}),t._v(" Edit ")]),a("a",{staticClass:"btn btn-danger btn-sm",attrs:{href:"#"},on:{click:function(a){return t.deleteUser(e.id)}}},[a("i",{staticClass:"fas fa-trash"}),t._v(" Delete ")])]):t._e()])])})),0)])])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("Username")]),a("th",[t._v("Email")]),a("th",[t._v("Full Name")]),a("th",[t._v("Type")]),a("th",{staticClass:"text-center"},[t._v("Manage")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"project-state"},[a("span",{staticClass:"badge badge-success"},[t._v("Admin")])])}],i=(a("cb29"),a("5530")),o=a("bc3a"),n=a.n(o),d=a("2f62"),l={name:"user",data:function(){return{editmode:!1,users:{},form:new window.Form({id:"",username:"",email:"",fullname:"",img_profile:"",password:""})}},methods:{newModal:function(){this.editmode=!1,this.form.reset(),window.$("#modal-add-user").modal("show")},editModal:function(t){this.editmode=!0,this.form.reset(),window.$("#modal-add-user").modal("show"),this.form.fill(t)},loadusers:function(){var t=this;n.a.get("/api/users").then((function(e){t.users=e.data.data}))},createUser:function(){var t=this;this.form.post("".concat(Object({NODE_ENV:"production",BASE_URL:"/vue-ministock/"}).VUE_APP_BASE_URL,"/api/user")).then((function(){t.$emit("AfterCreate"),window.$("#modal-add-user").modal("hide"),alert("เพิ่มเรียบร้อย")})).catch((function(){}))},updateUser:function(){var t=this;this.form.put("".concat(Object({NODE_ENV:"production",BASE_URL:"/vue-ministock/"}).VUE_APP_BASE_URL,"/api/users/")+this.form.id).then((function(){window.$("#modal-add-user").modal("hide"),alert("Update เรียบร้อย"),t.$emit("AfterCreate")})).catch((function(){}))},deleteUser:function(t){var e=this;confirm("ยืนยันการลบ User นี้หรือไม่")&&this.form.delete("".concat(Object({NODE_ENV:"production",BASE_URL:"/vue-ministock/"}).VUE_APP_BASE_URL,"/api/users/")+t).then((function(){alert("ลบเรียบร้อย"),e.$emit("AfterCreate")})).catch((function(){alert("ไม่สามารถลบได้ เกิดข้อผิดพลาดบางอย่าง")}))}},computed:Object(i["a"])({},Object(d["c"])({currentuser:"auth/user"})),created:function(){var t=this;this.loadusers(),this.$on("AfterCreate",(function(){t.loadusers()}))}},m=l,c=a("2877"),u=Object(c["a"])(m,s,r,!1,null,null,null);e["default"]=u.exports},"81d5":function(t,e,a){"use strict";var s=a("7b0b"),r=a("23cb"),i=a("50c4");t.exports=function(t){var e=s(this),a=i(e.length),o=arguments.length,n=r(o>1?arguments[1]:void 0,a),d=o>2?arguments[2]:void 0,l=void 0===d?a:r(d,a);while(l>n)e[n++]=t;return e}},cb29:function(t,e,a){var s=a("23e7"),r=a("81d5"),i=a("44d2");s({target:"Array",proto:!0},{fill:r}),i("fill")}}]);
//# sourceMappingURL=chunk-74263b36.133a89d6.js.map